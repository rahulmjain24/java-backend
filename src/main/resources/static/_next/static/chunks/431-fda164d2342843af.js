(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{880:function(e,n,o){"use strict";o.d(n,{Z:function(){return d}});var t=o(9499),r=o(5115),a=o.n(r),i=o(1664),s=o.n(i),c=o(7294),u=o(8307),l=o(3730),_=o(5893);function f(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),o.push.apply(o,t)}return o}function d(e){var n=(0,c.useState)({username:"",books:[]}),o=n[0],r=n[1],i=(0,c.useState)(0),d=i[0],v=i[1];return(0,c.useEffect)((function(){fetch("".concat(l.J,"/api/users/user")).then((function(e){return e.json()})).then((function(e){console.log(e),e?(r(function(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?f(Object(o),!0).forEach((function(n){(0,t.Z)(e,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))}))}return e}({},e)),v(e.books.length)):(r({username:"",books:[]}),v(0))})).catch((function(e){return console.log(e)}))}),[e.del,e.book]),(0,_.jsxs)("div",{className:a().container,children:[(0,_.jsx)(u.Z,{}),(0,_.jsxs)("header",{className:a().header,children:[(0,_.jsx)(s(),{href:"/",children:(0,_.jsx)("a",{children:(0,_.jsx)("img",{src:"/img/favicon.png",alt:"logo",className:a().logo})})}),(0,_.jsxs)("form",{action:"#",className:a().search,children:[(0,_.jsx)("input",{onChange:function(n){return e.change(n)},type:"text",className:a().search__input,placeholder:"Search books"}),(0,_.jsx)("button",{className:a().search__button,children:(0,_.jsx)("svg",{className:a().search__icon,children:(0,_.jsx)("use",{href:"/img/sprite.svg#icon-magnifying-glass"})})})]}),(0,_.jsxs)("nav",{className:a().userNav,children:[(0,_.jsx)(s(),{href:"/books/cart",children:(0,_.jsx)("a",{children:(0,_.jsxs)("div",{className:a().userNav__iconBox,children:[(0,_.jsx)("svg",{className:a().userNav__icon,children:(0,_.jsx)("use",{href:"/img/sprite.svg#icon-bookmark"})}),(0,_.jsxs)("span",{className:a().userNav__notification,children:[d,console.log(o)]})]})})}),(0,_.jsxs)("div",{className:a().userNav__user,children:[(0,_.jsx)("img",{src:"/img/userIcon.png",alt:"User photo",className:a().userNav__userPhoto}),(0,_.jsxs)("span",{className:a().userNav__userName,children:[console.log("username : "+o.username),""==o.username?(0,_.jsx)(s(),{href:"/login",children:(0,_.jsx)("a",{children:"Log in"})}):o.username]})]})]})]}),e.children]})}},9798:function(e,n,o){"use strict";o.d(n,{Z:function(){return c}});var t=o(1664),r=o.n(t),a=o(4654),i=o.n(a),s=o(5893);function c(e){return(0,s.jsx)(r(),{href:"/books/".concat(e.id),children:(0,s.jsx)("a",{onClick:e.clicked,children:(0,s.jsxs)("div",{className:i().book,children:[(0,s.jsx)("img",{src:"/img/books/".concat(e.id,".jpeg"),alt:e.title,className:i().book__img}),(0,s.jsxs)("h5",{className:i().book__name,children:[(0,s.jsx)("strong",{children:e.title}),(0,s.jsx)("br",{}),(0,s.jsxs)("sapn",{children:[e.author.firstName," ",e.author.lastName]}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{children:e.genre.genre}),(0,s.jsx)("br",{}),(0,s.jsx)("sapn",{children:e.year})]})]})})})}},8307:function(e,n,o){"use strict";o.d(n,{Z:function(){return c}});var t=o(1664),r=o.n(t),a=o(5192),i=o.n(a),s=o(5893);function c(e){var n=[{name:"Home",route:"/"},{name:"Books",route:"/books"},{name:"Login",route:"/login"},{name:"Signup",route:"/signup"},{name:"Cart",route:"/books/cart"},{name:"Logout",route:"/logout"}];return(0,s.jsxs)("div",{className:i().navigation,children:[(0,s.jsx)("input",{type:"checkbox",className:i().navigation__checkbox,id:"navi-toggle"}),(0,s.jsx)("label",{for:"navi-toggle",className:i().navigation__button,children:(0,s.jsx)("span",{className:i().navigation__icon,children:"\xa0"})}),(0,s.jsx)("div",{className:i().navigation__background,children:"\xa0"}),(0,s.jsx)("nav",{className:i().navigation__nav,children:(0,s.jsx)("ul",{className:i().navigation__list,children:n.map((function(e){return(0,s.jsx)("li",{className:i().navigation__item,children:(0,s.jsx)(r(),{href:e.route,children:(0,s.jsxs)("a",{className:i().navigation__link,children:[(0,s.jsx)("span",{children:n.indexOf(e)+1}),e.name]})})},e.name)}))})})]})}},7913:function(e,n,o){"use strict";var t=o(5696);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=o(7294))&&r.__esModule?r:{default:r},i=o(2199),s=o(1587),c=o(7215);function u(e,n){if(null==e)return{};var o,t,r=function(e,n){if(null==e)return{};var o,t,r={},a=Object.keys(e);for(t=0;t<a.length;t++)o=a[t],n.indexOf(o)>=0||(r[o]=e[o]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)o=a[t],n.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l={};function _(e,n,o,t){if(e&&i.isLocalURL(n)){e.prefetch(n,o,t).catch((function(e){0}));var r=t&&"undefined"!==typeof t.locale?t.locale:e&&e.locale;l[n+"%"+o+(r?"%"+r:"")]=!0}}var f=a.default.forwardRef((function(e,n){var o,r=e.legacyBehavior,f=void 0===r?!0!==Boolean(!1):r,d=e.href,v=e.as,p=e.children,h=e.prefetch,g=e.passHref,m=e.replace,b=e.shallow,k=e.scroll,j=e.locale,y=e.onClick,x=e.onMouseEnter,N=u(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter"]);o=p,f&&"string"===typeof o&&(o=a.default.createElement("a",null,o));var O,L=!1!==h,w=s.useRouter(),B=a.default.useMemo((function(){var e=i.resolveHref(w,d,!0),n=t(e,2),o=n[0],r=n[1];return{href:o,as:v?i.resolveHref(w,v):r||o}}),[w,d,v]),C=B.href,E=B.as,P=a.default.useRef(C),S=a.default.useRef(E);f&&(O=a.default.Children.only(o));var I=f?O&&"object"===typeof O&&O.ref:n,M=c.useIntersection({rootMargin:"200px"}),R=t(M,3),D=R[0],Z=R[1],H=R[2],U=a.default.useCallback((function(e){S.current===E&&P.current===C||(H(),S.current=E,P.current=C),D(e),I&&("function"===typeof I?I(e):"object"===typeof I&&(I.current=e))}),[E,I,C,H,D]);a.default.useEffect((function(){var e=Z&&L&&i.isLocalURL(C),n="undefined"!==typeof j?j:w&&w.locale,o=l[C+"%"+E+(n?"%"+n:"")];e&&!o&&_(w,C,E,{locale:n})}),[E,C,Z,j,L,w]);var A={ref:U,onClick:function(e){f||"function"!==typeof y||y(e),f&&O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,n,o,t,r,a,s,c){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(o))&&(e.preventDefault(),n[r?"replace":"push"](o,t,{shallow:a,locale:c,scroll:s}))}(e,w,C,E,m,b,k,j)},onMouseEnter:function(e){f||"function"!==typeof x||x(e),f&&O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),i.isLocalURL(C)&&_(w,C,E,{priority:!0})}};if(!f||g||"a"===O.type&&!("href"in O.props)){var K="undefined"!==typeof j?j:w&&w.locale,T=w&&w.isLocaleDomain&&i.getDomainLocale(E,K,w&&w.locales,w&&w.domainLocales);A.href=T||i.addBasePath(i.addLocale(E,K,w&&w.defaultLocale))}return f?a.default.cloneElement(O,A):a.default.createElement("a",Object.assign({},N,A),o)}));n.default=f,("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&(Object.assign(n.default,n),e.exports=n.default)},7215:function(e,n,o){"use strict";var t=o(5696);Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootRef,o=e.rootMargin,u=e.disabled||!i,l=r.useRef(),_=r.useState(!1),f=t(_,2),d=f[0],v=f[1],p=r.useState(n?n.current:null),h=t(p,2),g=h[0],m=h[1],b=r.useCallback((function(e){l.current&&(l.current(),l.current=void 0),u||d||e&&e.tagName&&(l.current=function(e,n,o){var t=function(e){var n,o={root:e.root||null,margin:e.rootMargin||""},t=c.find((function(e){return e.root===o.root&&e.margin===o.margin}));t?n=s.get(t):(n=s.get(o),c.push(o));if(n)return n;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),o=e.isIntersecting||e.intersectionRatio>0;n&&o&&n(o)}))}),e);return s.set(o,n={id:o,observer:a,elements:r}),n}(o),r=t.id,a=t.observer,i=t.elements;return i.set(e,n),a.observe(e),function(){if(i.delete(e),a.unobserve(e),0===i.size){a.disconnect(),s.delete(r);var n=c.findIndex((function(e){return e.root===r.root&&e.margin===r.margin}));n>-1&&c.splice(n,1)}}}(e,(function(e){return e&&v(e)}),{root:g,rootMargin:o}))}),[u,g,o,d]),k=r.useCallback((function(){v(!1)}),[]);return r.useEffect((function(){if(!i&&!d){var e=a.requestIdleCallback((function(){return v(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[d]),r.useEffect((function(){n&&m(n.current)}),[n]),[b,d,k]};var r=o(7294),a=o(8065),i="undefined"!==typeof IntersectionObserver;var s=new Map,c=[];("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&(Object.assign(n.default,n),e.exports=n.default)},3730:function(e,n,o){"use strict";o.d(n,{J:function(){return t}});var t=""},5115:function(e){e.exports={header:"BookLayout_header__OQp1s",container:"BookLayout_container__oxCK0",logo:"BookLayout_logo__abvOR",search:"BookLayout_search__OZV4r",search__input:"BookLayout_search__input__wmadQ",search__button:"BookLayout_search__button__TIgKa",search__icon:"BookLayout_search__icon__Oim6H",userNav:"BookLayout_userNav__HR4uD",userNav__iconBox:"BookLayout_userNav__iconBox__S8VSw",userNav__icon:"BookLayout_userNav__icon__8OjYr",userNav__notification:"BookLayout_userNav__notification__STL90",userNav__userPhoto:"BookLayout_userNav__userPhoto__Z_uVq"}},4654:function(e){e.exports={book:"Card_book__ue895",book__img:"Card_book__img__fz3Wj",book__like:"Card_book__like__jnHv2",book__name:"Card_book__name__B1Uq7",book__rooms:"Card_book__rooms__KFJ2a",book__price:"Card_book__price__vRmb4"}},5192:function(e){e.exports={navigation__checkbox:"Nav_navigation__checkbox__mDIfx",navigation__button:"Nav_navigation__button__gREgS",navigation__background:"Nav_navigation__background__t1DtU",navigation__nav:"Nav_navigation__nav___4GOw",navigation__list:"Nav_navigation__list__zjDHk",navigation__item:"Nav_navigation__item__E8ngw",navigation__link:"Nav_navigation__link__6ZZwV",navigation__icon:"Nav_navigation__icon__STXl1"}},6705:function(e){e.exports={books:"Books_books__cTtsP",book:"Books_book__9scIG",detail:"Books_detail__QJzob",description:"Books_description__0GR1H",heading4:"Books_heading4__ce_2D",paragraph:"Books_paragraph__9yYoQ"}},1664:function(e,n,o){e.exports=o(7913)},29:function(e,n,o){"use strict";function t(e,n,o,t,r,a,i){try{var s=e[a](i),c=s.value}catch(u){return void o(u)}s.done?n(c):Promise.resolve(c).then(t,r)}function r(e){return function(){var n=this,o=arguments;return new Promise((function(r,a){var i=e.apply(n,o);function s(e){t(i,r,a,s,c,"next",e)}function c(e){t(i,r,a,s,c,"throw",e)}s(void 0)}))}}o.d(n,{Z:function(){return r}})},6687:function(e,n,o){"use strict";function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}function r(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}o.d(n,{Z:function(){return r}})}}]);