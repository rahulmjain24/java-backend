(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{1396:function(n,t,e){"use strict";e.d(t,{ss:function(){return l},uL:function(){return h},un:function(){return u},xh:function(){return a}});var r=e(5121),o=e.n(r),c=e(1664),i=e.n(c),s=e(5893);function u(n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i(),{href:n.href,children:(0,s.jsx)("a",{className:"".concat(o().btn," ").concat(o().btnWhite," ").concat(o().btnAnimated),children:n.children})})})}function a(n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i(),{href:n.href,children:(0,s.jsxs)("a",{className:o().btnText,children:[n.children," \u2192"]})})})}function l(n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{className:"".concat(o().btn," ").concat(o().btnBrown),type:"submit",children:n.children})})}function h(n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i(),{href:n.href,children:(0,s.jsx)("a",{className:"".concat(o().btn," ").concat(o().btnBrown),children:n.children})})})}},2081:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return j}});var r=e(6687),o=e(9499),c=e(29),i=e(7794),s=e.n(i),u=e(1163),a=e(7294),l=e(880),h=e(1396),f=e(6705),d=e.n(f),_=e(9798),g=e(3730),m=e(5893);function p(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function b(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?p(Object(e),!0).forEach((function(t){(0,o.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function j(){var n=(0,u.useRouter)(),t=(0,a.useState)({}),e=t[0],o=t[1],i=(0,a.useState)(""),f=i[0],p=i[1],j=(0,a.useState)([]),x=j[0],B=j[1],v=(0,a.useState)(0),y=v[0],N=v[1];function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.query.id;return t}function O(){return O=(0,c.Z)(s().mark((function n(t){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,fetch("".concat(g.J,"/api/users?bookId=").concat(t),{method:"put"});case 3:return n.next=5,n.sent.json();case 5:e=n.sent,console.log(e);case 7:case"end":return n.stop()}}),n)}))),O.apply(this,arguments)}return(0,a.useEffect)((function(){function t(){return t=(0,c.Z)(s().mark((function n(t){var e,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],o={},n.next=4,fetch("".concat(g.J,"/api/books?title=").concat(t));case 4:return n.next=6,n.sent.json();case 6:e=n.sent,console.log(o),B(e?(0,r.Z)(e):[]);case 9:case"end":return n.stop()}}),n)}))),t.apply(this,arguments)}fetch("".concat(g.J,"/api/books/").concat(n.query.id)).then((function(n){return n.json()})).then((function(n){o(b(b({},n),{},{firstName:n.author.firstName,lastName:n.author.lastName,genre:n.genre.genre}))})).catch((function(n){return console.log(n)})),function(n){t.apply(this,arguments)}(f)}),[n,f]),(0,m.jsxs)(l.Z,{book:y,change:function(t){w()!=n.query.id&&(console.log(id),t.target.value=""),p(t.target.value)},children:[console.log(f),""==f?(0,m.jsx)("div",{className:d().book,children:(0,m.jsxs)("div",{className:d().detail,children:[(0,m.jsx)("img",{src:"/img/books/".concat(e.id,".jpeg")}),console.log(e),(0,m.jsxs)("div",{class:d().description,children:[(0,m.jsx)("h3",{children:e.title}),(0,m.jsxs)("h4",{className:d().heading4,children:["by ",e.firstName," ",e.lastName]}),(0,m.jsx)("h4",{className:d().heading4,children:e.year}),(0,m.jsx)("h4",{className:d().heading4,children:e.genre}),(0,m.jsx)("p",{class:d().paragraph,children:e.synopsis}),(0,m.jsx)("div",{onClick:function(){N((function(n){return n+1})),function(n){O.apply(this,arguments)}(n.query.id)},children:(0,m.jsx)(h.uL,{href:"/books",children:"Add Book"})})]})]})}):(0,m.jsx)("div",{className:d().books,children:x.map((function(n){return(0,m.jsx)(_.Z,{clicked:function(){p(""),w(n.id)},title:n.title,year:n.year,id:n.id,author:n.author,genre:n.genre},n.id)}))}),x==[]&&""!=f?(0,m.jsx)("h1",{children:"No results found!"}):""]})}},6516:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books/[id]",function(){return e(2081)}])},5121:function(n){n.exports={uCenterText:"Button_uCenterText__e6YFn",uMarginBottomBig:"Button_uMarginBottomBig__cI43f",uMarginBottomMedium:"Button_uMarginBottomMedium__6qwXz",uMarginBottomSmall:"Button_uMarginBottomSmall__1mbbF",uMarginTopBig:"Button_uMarginTopBig__0E1Dj",uMarginTopHuge:"Button_uMarginTopHuge__aZOIZ",btn:"Button_btn__vlh_o",btnWhite:"Button_btnWhite__V9UeH",btnBrown:"Button_btnBrown__Bpo91",btnAnimated:"Button_btnAnimated__kqGP8",moveInBottom:"Button_moveInBottom__63OyV",btnText:"Button_btnText__SNviD",moveInLeft:"Button_moveInLeft__FIFer",moveInRight:"Button_moveInRight__YfDGI"}},1163:function(n,t,e){n.exports=e(1587)}},function(n){n.O(0,[431,774,888,179],(function(){return t=6516,n(n.s=t);var t}));var t=n.O();_N_E=t}]);