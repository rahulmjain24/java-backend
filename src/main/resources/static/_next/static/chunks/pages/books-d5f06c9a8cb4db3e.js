(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{8881:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return k}});var r=e(29);function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function a(n){return function(n){if(Array.isArray(n))return o(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(n){if("string"===typeof n)return o(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=e(7794),s=e.n(i),c=e(1664),u=e.n(c),l=e(4654),_=e.n(l),f=e(5893);function d(n){return(0,f.jsx)(u(),{href:"/books/".concat(n.id),children:(0,f.jsx)("a",{children:(0,f.jsxs)("div",{className:_().book,children:[(0,f.jsx)("img",{src:"/img/books/".concat(n.id,".jpeg"),alt:n.title,className:_().book__img}),(0,f.jsxs)("h5",{className:_().book__name,children:[(0,f.jsx)("strong",{children:n.title}),(0,f.jsx)("br",{}),(0,f.jsxs)("sapn",{children:[n.author.firstName," ",n.author.lastName]}),(0,f.jsx)("br",{}),(0,f.jsx)("span",{children:n.genre.genre}),(0,f.jsx)("br",{}),(0,f.jsx)("sapn",{children:n.year})]})]})})})}var h=e(5495),p=e.n(h);function b(n){return(0,f.jsxs)("div",{className:p().pagination,children:[(0,f.jsx)("button",{className:p().btn,children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:p().btnIcon,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,f.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})})}),(0,f.jsx)("div",{className:"".concat(p().pages),children:n.children}),(0,f.jsx)("button",{className:p().btn,children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:p().btnIcon,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,f.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})})})]})}function g(n){var t=n.i,e=n.curr;return(0,f.jsx)("a",{className:"".concat(p().page," ").concat(e+1===t?p().active:""),children:t})}var m=e(6705),v=e.n(m),j=e(7294),x=e(880);function k(n){var t=(0,j.useState)([]),e=t[0],o=t[1],i=(0,j.useState)(),c=i[0],u=i[1],l=(0,j.useState)(0),_=l[0],h=l[1],p=(0,j.useState)(""),m=p[0],k=p[1],w=(0,j.useState)([]),y=w[0],N=w[1];return(0,j.useEffect)((function(){function n(){return n=(0,r.Z)(s().mark((function n(t){var e,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],r={},n.next=4,fetch("/api/books?title=".concat(t));case 4:return n.next=6,n.sent.json();case 6:e=n.sent,console.log(r),N(a(e));case 9:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}fetch("/api/books?page=".concat(_)).then((function(n){return n.json()})).then((function(n){o(a(n.content)),u(n.totalPages)})).catch((function(n){return console.log(n)})),function(t){n.apply(this,arguments)}(m)}),[_,m]),(0,f.jsxs)(x.Z,{change:function(n){k(n.target.value)},children:[(0,f.jsxs)("div",{className:v().books,children:[console.log(m),""==m?e.map((function(n){return(0,f.jsx)(d,{title:n.title,year:n.year,id:n.id,author:n.author,genre:n.genre})})):y.map((function(n){return(0,f.jsx)(d,{title:n.title,year:n.year,id:n.id,author:n.author,genre:n.genre})})),0==y.length?(0,f.jsx)("h1",{children:"No results found!"}):""]}),(0,f.jsx)(b,{last:c,children:function(n){for(var t=[],e=1;e<=n;e++)t.push(e);return t}(c).map((function(n){return(0,f.jsx)("div",{onClick:function(){return h(n-1)},children:(0,f.jsx)(g,{i:n,curr:_})},n)}))})]})}},1809:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books",function(){return e(8881)}])},4654:function(n){n.exports={book:"Card_book__ue895",book__img:"Card_book__img__fz3Wj",book__like:"Card_book__like__jnHv2",book__name:"Card_book__name__B1Uq7",book__rooms:"Card_book__rooms__KFJ2a",book__price:"Card_book__price__vRmb4"}},5495:function(n){n.exports={pagination:"Page_pagination__5MRKq",pages:"Page_pages__mKviQ",page:"Page_page__jbdyN",active:"Page_active__ryKqB",btn:"Page_btn__fwSj8",btnIcon:"Page_btnIcon__YkFvG"}},29:function(n,t,e){"use strict";function r(n,t,e,r,o,a,i){try{var s=n[a](i),c=s.value}catch(u){return void e(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(n){return function(){var t=this,e=arguments;return new Promise((function(o,a){var i=n.apply(t,e);function s(n){r(i,o,a,s,c,"next",n)}function c(n){r(i,o,a,s,c,"throw",n)}s(void 0)}))}}e.d(t,{Z:function(){return o}})}},function(n){n.O(0,[329,774,888,179],(function(){return t=1809,n(n.s=t);var t}));var t=n.O();_N_E=t}]);