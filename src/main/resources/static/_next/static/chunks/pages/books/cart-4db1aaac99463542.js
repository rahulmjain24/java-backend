(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[315],{1396:function(n,t,e){"use strict";e.d(t,{ss:function(){return l},uL:function(){return h},un:function(){return s},xh:function(){return a}});var r=e(5121),o=e.n(r),c=e(1664),i=e.n(c),u=e(5893);function s(n){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(i(),{href:n.href,children:(0,u.jsx)("a",{className:"".concat(o().btn," ").concat(o().btnWhite," ").concat(o().btnAnimated),children:n.children})})})}function a(n){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(i(),{href:n.href,children:(0,u.jsxs)("a",{className:o().btnText,children:[n.children," \u2192"]})})})}function l(n){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("button",{className:"".concat(o().btn," ").concat(o().btnBrown),type:"submit",children:n.children})})}function h(n){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(i(),{href:n.href,children:(0,u.jsx)("a",{className:"".concat(o().btn," ").concat(o().btnBrown),children:n.children})})})}},8654:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return j}});var r=e(6687),o=e(9499),c=e(29),i=e(7794),u=e.n(i),s=e(1163),a=e(7294),l=e(880),h=e(1396),f=e(9798),d=e(6705),g=e.n(d),_=e(3730),m=e(5893);function p(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function b(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?p(Object(e),!0).forEach((function(t){(0,o.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function j(){var n=(0,s.useRouter)(),t=(0,a.useState)({}),e=t[0],o=t[1],i=(0,a.useState)(""),d=i[0],p=i[1],j=(0,a.useState)([]),x=j[0],v=j[1],B=(0,a.useState)([]),y=B[0],N=B[1],O=(0,a.useState)(0),w=O[0],k=O[1];function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.query.id;return t}function I(){return I=(0,c.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,fetch("".concat(_.J,"/api/users?bookId=").concat(t),{method:"delete"});case 3:return n.next=5,n.sent.json();case 5:e=n.sent,console.log(e);case 7:case"end":return n.stop()}}),n)}))),I.apply(this,arguments)}return(0,a.useEffect)((function(){function t(){return t=(0,c.Z)(u().mark((function n(t){var e,o;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],o={},n.next=4,fetch("".concat(_.J,"/api/books?title=").concat(t));case 4:return n.next=6,n.sent.json();case 6:e=n.sent,console.log(o),v(void 0!=e?(0,r.Z)(e):[]);case 9:case"end":return n.stop()}}),n)}))),t.apply(this,arguments)}fetch("".concat(_.J,"/api/books/").concat(n.query.id?"":n.query.id)).then((function(n){return n.json()})).then((function(n){o(b(b({},n),{},{firstName:n.author.firstName,lastName:n.author.lastName,genre:n.genre.genre}))})).catch((function(n){return console.log(n)})),function(n){t.apply(this,arguments)}(d),fetch("".concat(_.J,"/api/users/user")).then((function(n){return n.json()})).then((function(n){console.log(n),N(n?(0,r.Z)(n.books):[])})).catch((function(n){return console.log(n)}))}),[n,d]),(0,m.jsxs)(l.Z,{del:w,change:function(t){M()!=n.query.id&&(console.log(id),t.target.value=""),p(t.target.value)},children:[console.log(d),""==d?y.map((function(n){return(0,m.jsx)("div",{className:g().book,children:(0,m.jsxs)("div",{className:g().detail,children:[(0,m.jsx)("img",{src:"/img/books/".concat(n.id,".jpeg")}),console.log(e),(0,m.jsxs)("div",{class:g().description,children:[(0,m.jsx)("h3",{children:n.title}),(0,m.jsxs)("h4",{className:g().heading4,children:["by ",n.author.firstName," ",n.author.lastName]}),(0,m.jsx)("h4",{className:g().heading4,children:n.year}),(0,m.jsx)("h4",{className:g().heading4,children:n.genre.genre}),(0,m.jsx)("div",{onClick:function(){console.log(n.id);var t=(0,r.Z)(y);!function(n){I.apply(this,arguments)}(n.id),searchData.splice(t.indexOf(n),1),v((0,r.Z)(t)),k((function(n){return n+1}))},children:(0,m.jsx)(h.uL,{href:"#",children:"Remove Book"})})]})]})})})):(0,m.jsx)("div",{className:g().books,children:x.map((function(n){return(0,m.jsx)(f.Z,{clicked:function(){p(""),M(n.id)},title:n.title,year:n.year,id:n.id,author:n.author,genre:n.genre},n.id)}))}),x==[]?(0,m.jsx)("h1",{children:"No results found!"}):""]})}},1696:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books/cart",function(){return e(8654)}])},5121:function(n){n.exports={uCenterText:"Button_uCenterText__e6YFn",uMarginBottomBig:"Button_uMarginBottomBig__cI43f",uMarginBottomMedium:"Button_uMarginBottomMedium__6qwXz",uMarginBottomSmall:"Button_uMarginBottomSmall__1mbbF",uMarginTopBig:"Button_uMarginTopBig__0E1Dj",uMarginTopHuge:"Button_uMarginTopHuge__aZOIZ",btn:"Button_btn__vlh_o",btnWhite:"Button_btnWhite__V9UeH",btnBrown:"Button_btnBrown__Bpo91",btnAnimated:"Button_btnAnimated__kqGP8",moveInBottom:"Button_moveInBottom__63OyV",btnText:"Button_btnText__SNviD",moveInLeft:"Button_moveInLeft__FIFer",moveInRight:"Button_moveInRight__YfDGI"}},1163:function(n,t,e){n.exports=e(1587)}},function(n){n.O(0,[431,774,888,179],(function(){return t=1696,n(n.s=t);var t}));var t=n.O();_N_E=t}]);