(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{1729:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var r=e(29),o=e(6687),a=e(7794),c=e.n(a),s=e(9798),i=e(5495),u=e.n(i),l=e(5893);function d(n){return(0,l.jsxs)("div",{className:u().pagination,children:[(0,l.jsx)("button",{className:u().btn,children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:u().btnIcon,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,l.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})})}),(0,l.jsx)("div",{className:"".concat(u().pages),children:n.children}),(0,l.jsx)("button",{className:u().btn,children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:u().btnIcon,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:(0,l.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"})})})]})}function h(n){var t=n.i,e=n.curr;return(0,l.jsx)("a",{className:"".concat(u().page," ").concat(e+1===t?u().active:""),children:t})}var f=e(6705),p=e.n(f),g=e(7294),_=e(880),v=e(3730);function x(n){var t=(0,g.useState)([]),e=t[0],a=t[1],i=(0,g.useState)(),u=i[0],f=i[1],x=(0,g.useState)(0),j=x[0],w=x[1],k=(0,g.useState)(""),b=k[0],m=k[1],N=(0,g.useState)([]),P=N[0],y=N[1];return(0,g.useEffect)((function(){function n(){return n=(0,r.Z)(c().mark((function n(t){var e,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],r={},n.next=4,fetch("".concat(v.J,"/api/books?title=").concat(t));case 4:return n.next=6,n.sent.json();case 6:e=n.sent,console.log(r),y(e?(0,o.Z)(e):[]);case 9:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}fetch("".concat(v.J,"/api/books?page=").concat(j)).then((function(n){return n.json()})).then((function(n){console.log(n),a((0,o.Z)(n.content)),f(n.totalPages)})).catch((function(n){return console.log(n)})),function(t){n.apply(this,arguments)}(b)}),[j,b]),(0,l.jsxs)(_.Z,{change:function(n){m(n.target.value)},children:[(0,l.jsxs)("div",{className:p().books,children:[""==b?e.map((function(n){return(0,l.jsx)(s.Z,{title:n.title,year:n.year,id:n.id,author:n.author,genre:n.genre},n.id)})):P.map((function(n){return(0,l.jsx)(s.Z,{title:n.title,year:n.year,id:n.id,author:n.author,genre:n.genre},n.id)})),P==[]&&""!=b?(0,l.jsx)("h1",{children:"No results found!"}):""]}),(0,l.jsx)(d,{last:u,children:function(n){for(var t=[],e=1;e<=n;e++)t.push(e);return t}(u).map((function(n){return(0,l.jsx)("div",{onClick:function(){return w(n-1)},children:(0,l.jsx)(h,{i:n,curr:j})},n)}))})]})}},1809:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books",function(){return e(1729)}])},5495:function(n){n.exports={pagination:"Page_pagination__5MRKq",pages:"Page_pages__mKviQ",page:"Page_page__jbdyN",active:"Page_active__ryKqB",btn:"Page_btn__fwSj8",btnIcon:"Page_btnIcon__YkFvG"}}},function(n){n.O(0,[431,774,888,179],(function(){return t=1809,n(n.s=t);var t}));var t=n.O();_N_E=t}]);