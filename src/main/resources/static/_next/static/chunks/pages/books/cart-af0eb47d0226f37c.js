(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[315],{1396:function(n,t,e){"use strict";e.d(t,{ss:function(){return l},uL:function(){return h},un:function(){return u},xh:function(){return a}});var r=e(5121),o=e.n(r),c=e(1664),i=e.n(c),s=e(5893);function u(n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i(),{href:n.href,children:(0,s.jsx)("a",{className:"".concat(o().btn," ").concat(o().btnWhite," ").concat(o().btnAnimated),children:n.children})})})}function a(n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i(),{href:n.href,children:(0,s.jsxs)("a",{className:o().btnText,children:[n.children," \u2192"]})})})}function l(n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{className:"".concat(o().btn," ").concat(o().btnBrown),type:"submit",children:n.children})})}function h(n){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i(),{href:n.href,children:(0,s.jsx)("a",{className:"".concat(o().btn," ").concat(o().btnBrown),children:n.children})})})}},8654:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var r=e(6687),o=e(9499),c=e(29),i=e(7794),s=e.n(i),u=e(1163),a=e(7294),l=e(880),h=e(1396),f=e(9798),d=e(6705),g=e.n(d),p=e(3730),m=e(5893);function _(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function b(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?_(Object(e),!0).forEach((function(t){(0,o.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function x(){var n=(0,u.useRouter)(),t=(0,a.useState)({}),e=t[0],o=t[1],i=(0,a.useState)(""),d=i[0],_=i[1],x=(0,a.useState)([]),j=x[0],v=x[1],B=(0,a.useState)([]),y=B[0],N=B[1],k=(0,a.useState)(0),w=k[0],O=k[1];function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.query.id;return t}function T(){return T=(0,c.Z)(s().mark((function n(t){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,fetch("".concat(p.J,"/api/users?bookId=").concat(t),{method:"delete"});case 3:return n.next=5,n.sent.json();case 5:e=n.sent,console.log(e);case 7:case"end":return n.stop()}}),n)}))),T.apply(this,arguments)}function Z(){return Z=(0,c.Z)(s().mark((function n(){var t;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(p.J,"/api/users/user/deleteAll"),{method:"delete"});case 2:return n.next=4,n.sent.json();case 4:t=n.sent,console.log(t);case 6:case"end":return n.stop()}}),n)}))),Z.apply(this,arguments)}return(0,a.useEffect)((function(){function t(){return t=(0,c.Z)(s().mark((function n(t){var e,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],o={},n.next=4,fetch("".concat(p.J,"/api/books?title=").concat(t));case 4:return n.next=6,n.sent.json();case 6:e=n.sent,console.log(o),v(void 0!=e?(0,r.Z)(e):[]);case 9:case"end":return n.stop()}}),n)}))),t.apply(this,arguments)}fetch("".concat(p.J,"/api/books/").concat(n.query.id?"":n.query.id)).then((function(n){return n.json()})).then((function(n){o(b(b({},n),{},{firstName:n.author.firstName,lastName:n.author.lastName,genre:n.genre.genre}))})).catch((function(n){return console.log(n)})),function(n){t.apply(this,arguments)}(d),fetch("".concat(p.J,"/api/users/user")).then((function(n){return n.json()})).then((function(n){console.log(n),N(n?(0,r.Z)(n.books):[])})).catch((function(n){return console.log(n)}))}),[n,d]),(0,m.jsxs)(l.Z,{del:w,change:function(t){M()!=n.query.id&&(console.log(id),t.target.value=""),_(t.target.value)},children:[console.log(d),""==d?y.map((function(n){return(0,m.jsx)("div",{className:g().book,children:(0,m.jsxs)("div",{className:g().detail,children:[(0,m.jsx)("img",{src:"/img/books/".concat(n.id,".jpeg")}),console.log(e),(0,m.jsxs)("div",{class:g().description,children:[(0,m.jsx)("h3",{children:n.title}),(0,m.jsxs)("h4",{className:g().heading4,children:["by ",n.author.firstName," ",n.author.lastName]}),(0,m.jsx)("h4",{className:g().heading4,children:n.year}),(0,m.jsx)("h4",{className:g().heading4,children:n.genre.genre}),(0,m.jsx)("div",{onClick:function(){console.log(n.id);var t=(0,r.Z)(y);!function(n){T.apply(this,arguments)}(n.id),searchData.splice(t.indexOf(n),1),v((0,r.Z)(t)),O((function(n){return n+1}))},children:(0,m.jsx)(h.uL,{href:"#",children:"Remove Book"})})]})]})})})):(0,m.jsx)("div",{className:g().books,children:j.map((function(n){return(0,m.jsx)(f.Z,{clicked:function(){_(""),M(n.id)},title:n.title,year:n.year,id:n.id,author:n.author,genre:n.genre},n.id)}))}),j==[]?(0,m.jsx)("h1",{children:"No results found!"}):"",(0,m.jsx)("div",{className:"".concat(g().uCenterText," ").concat(g().uMarginTopBig),onClick:function(){!function(){Z.apply(this,arguments)}()},children:(0,m.jsx)(h.uL,{href:"/books",children:"Remove All Book"})})]})}},1696:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/books/cart",function(){return e(8654)}])},5121:function(n){n.exports={uCenterText:"Button_uCenterText__e6YFn",uMarginBottomBig:"Button_uMarginBottomBig__cI43f",uMarginBottomMedium:"Button_uMarginBottomMedium__6qwXz",uMarginBottomSmall:"Button_uMarginBottomSmall__1mbbF",uMarginTopBig:"Button_uMarginTopBig__0E1Dj",uMarginTopHuge:"Button_uMarginTopHuge__aZOIZ",btn:"Button_btn__vlh_o",btnWhite:"Button_btnWhite__V9UeH",btnBrown:"Button_btnBrown__Bpo91",btnAnimated:"Button_btnAnimated__kqGP8",moveInBottom:"Button_moveInBottom__63OyV",btnText:"Button_btnText__SNviD",moveInLeft:"Button_moveInLeft__FIFer",moveInRight:"Button_moveInRight__YfDGI"}},1163:function(n,t,e){n.exports=e(1587)}},function(n){n.O(0,[431,774,888,179],(function(){return t=1696,n(n.s=t);var t}));var t=n.O();_N_E=t}]);